<template>
  <div class="home">
    <div class="banner_wrap">
      <div class="banner">
        <h2>全球首款基于区块链的共享存储应用</h2>
        <p class="describe">SD卡搭载SE芯片，小身材大能量，购买可信盾，可享受终端内存无限扩容、数字资产加密保护、赢盾宝赚奖品等极致服务</p>
        <span @click="purchase">立即抢购</span>
        <p class="num">可信盾开放售卖前总预约人数&nbsp;&nbsp;41,392,188</p>
      </div>
    </div>
    <div class="what_wrap">
      <div class="what">
        <h2><span>什么是</span>&nbsp;可信盾？</h2>
        <p>结合IPFS分布式存储技术及SE加密模块，实现了基于区块链的可信共享存储解决方案。目前，该方案已经成功应用在车联网、人工智能等多个商业领域，创造了全新的具有颠覆性的商业模式。</p>
        <p>此外，通过搭配我们的可信伴侣，可以将可信盾变身可信硬件钱包，保障您的数字资产安全。</p>
      </div>
    </div>
    <div class="selling_wrap">
      <div class="selling">
        <h2>功能卖点</h2>
        <div class="step">
          <h3><span>01</span>更可信更安全</h3>
          <p>基于硬件SE加密模块，实现IPFS的存储可信证明，确保在去中心化、分布式的模式下，从源头上防止恶意攻击及存储作弊，为你带来高可信、高安全等级的区块链应用环境；</p>
          <h3><span>02</span>变身高可信硬件钱包</h3>
          <p>搭载SE芯片的可信盾设备，配备可信伴侣，摇身一变变身高可信硬件钱包，外型炫酷方便携带，让你的数字资产高枕无忧；</p>
          <h3><span>03</span>多终端通用</h3>
          <p>手机、笔记本、IPAD、电脑……你能想到的终端，都可以成为可信盾施展才华的舞台，成就你的完美区块链应用；</p>
          <h3><span>04</span>专属加密通道</h3>
          <p>定制SE模块，专属的极致加密通道，保障你的数据安全，再也不用担心隐私泄密；</p>
          <h3><span>05</span>无限量存储空间</h3>
          <p>64G？128G？1T？2T？NO，全网式共享存储，我的存储空间是，无限量；</p>
          <h3><span>06</span>是伴侣更是“小金矿”</h3>
          <p>购可信盾、用可信盾，可享“盾宝”奖励，赢盾宝，赚TOKEN，兑奖品，赚服务……有了它，你就拥有了无限可能……</p>
        </div>
      </div>
    </div>
    <div class="shield_wrap">
      <div class="shield">
        <h2>关于【盾宝】</h2>
        <ul>
          <li>
            <h3>>>什么是盾宝？</h3>
            <p>购可信盾、用可信盾，可享“盾宝”奖励，赢盾宝，赚TOKEN，兑奖品，赚服务……有了它，你就拥有了无限可能……</p>
          </li>
          <li>
            <h3>>>如何获得盾宝？</h3>
            <p>用户可通过购买可信盾智能硬件设备并激活盾宝奖励计划，通过共享存储资源等，按照盾宝产生规则获得盾宝奖励，贡献的越多，则奖励越多。基于可信盾生态所打造的高可信环境，你的每一份付出都将得到最公正的回报。</p>
          </li>
          <li>
            <h3>>>盾宝生成计划</h3>
            <div>
              <h4>加入盾宝计划，你可以这样做</h4>
              <p><span></span>存储空间用不完？贡献剩余空间，即享盾宝奖励；</p>
              <p><span></span>见到违章汽车义愤填膺？拍下来上传，让正义感得到释放的同时，即享盾宝奖励；</p>
              <p><span></span>开车时按要求上传车况信息或者路况信息，即享盾宝奖励；</p>
              <p><span></span>更多应用场景还在持续更新中，可信盾使用不设限、无设防，更多盾宝等你来拿。</p>
            </div>
          </li>
          <li>
            <h3>>>丰富的盾宝应用场景</h3>
            <p>盾宝到手后，用户还可使用盾宝兑换丰富的产品和服务， 如共享汽车、换购超值商品等。</p>
          </li>
        </ul>
      </div>
    </div>
    <div class="configuration_wrap">
      <div class="configuration">
        <h2>可信盾参数</h2>
        <table>
          <tr>
            <td>型号</td>
            <td>W-345F35543</td>
          </tr>
          <tr>
            <td>颜色</td>
            <td>黑色</td>
          </tr>
          <tr>
            <td>材质</td>
            <td>阳极氧化铝合金机身+透明PC面板</td>
          </tr>
          <tr>
            <td>内存</td>
            <td>16GB</td>
          </tr>
          <tr>
            <td>尺寸</td>
            <td>3MM*5MM</td>
          </tr>
          <tr>
            <td>重量</td>
            <td>50G</td>
          </tr>
          <tr>
            <td>接口</td>
            <td>HDMI OUT*1（支持全高清1080P 60FPS 视频硬件解码输出）</td>
          </tr>
          <tr>
            <td>配件</td>
            <td>电源适配器</td>
          </tr>
          <tr>
            <td>官方指导价</td>
            <td>1999元</td>
          </tr>
          <tr>
            <td>包装清单</td>
            <td>见实体详情</td>
          </tr>
        </table>
      </div>
    </div>
    <div class="coachfellow_wrap">
      <div class="coachfellow">
        <h2>可信伴侣</h2>
        <h3>是USB，更是高可信硬件钱包。</h3>
        <p>金属化外观设计，新颖巧妙、时尚简洁，极富视觉冲击力，<br>
          搭配可信盾使用，你要的世界，从现在开始。</p>
        <div>
          <h3>即将发售...</h3>
          <p>FORTHCOMING SALE...</p>
        </div>
      </div>
    </div>
    <el-dialog
      title="确认订单"
      :visible.sync="dialog1"
      width="520px"
      top="20vh"
      center
      :close-on-click-modal=false
      :close-on-press-escape=false
      class="dialog1">
      <div class="content">
        <ul>
          <li><span>收货人：</span><span>{{userInfo.name}}</span></li>
          <li><span>收货人电话：</span><span>{{userInfo.phone_address?userInfo.phone_address.substr(3):""}}</span></li>
          <li><span>收货地址：</span><span>{{userInfo.address}}</span></li>
          <li><span>产品信息：</span><span>{{productInfo.name}}</span></li>
          <li><span>数量：</span><span class="num"><span @click="subtract">-</span><input type="text" v-model="num"><span @click="add">+</span></span>
          </li>
          <li><span>支付金额：</span><span>{{total}}</span></li>
          <li>
            <span>支付方式：</span>
            <span class="pay">
              <label class="pay_label">
                <input class="pay_radio" type="radio" name="pay" value=1 v-model="value">
                <span class="pay_radioInput"></span>支付宝
              </label>
              <label class="pay_label">
                  <input class="pay_radio" type="radio" name="pay" value=2 v-model="value">
                  <span class="pay_radioInput"></span>微信
              </label>
            </span>
          </li>
        </ul>
      </div>
      <span slot="footer" class="dialog-footer">
        <el-button type="primary" @click="payment">确定</el-button>
      </span>
    </el-dialog>
    <el-dialog
      title="确认订单"
      :visible.sync="dialog2"
      width="314px"
      top="20vh"
      center
      :close-on-click-modal=false
      :close-on-press-escape=false
      class="dialog2">
      <span>请填写收货地址</span>
      <span slot="footer" class="dialog-footer">
        <el-button type="primary" @click="write">去填写</el-button>
      </span>
    </el-dialog>
  </div>
</template>

<script>
  import axios from "axios";
  import _ from "lodash";
  import {baseURL, cardURL} from '@/common/js/public.js';

  export default {
    name: "home",
    components: {},
    data() {
      return {
        dialog1: false,
        dialog2: false,
        num: 1,
        value:1,
        userInfo:{},
        productInfo:{}
      }
    },
    beforeMount() {
      if (JSON.parse(sessionStorage.getItem("loginInfo"))) {
        this.userInfo = JSON.parse(sessionStorage.getItem("userInfo"));
      }
    },
    methods: {
      purchase() {
        if (JSON.parse(sessionStorage.getItem("loginInfo"))) {
          if (JSON.parse(sessionStorage.getItem("userInfo")).address) {
            this.dialog1 = true;
            this.acquireProductInfo()
          } else {
            this.dialog2 = true
          }
        } else {
          window.location.href = "#/login"
        }
      },
      payment() {
        this.dialog1 = false;
        window.location.href = "#/contactUs"
      },
      write() {
        this.dialog2 = false;
        window.location.href = "#/receivingInfo"
      },
      add() {
        this.num++
      },
      subtract() {
        this.num > 1 ? this.num-- : this.num = 1
      },
      acquireProductInfo() {
        axios({
          method: "GET",
          url: `${baseURL}/presell/v1/produce`,
          headers: {
            "Content-Type": "application/json",
          }
        }).then((res) => {
          this.productInfo=res.data;
        }).catch((err) => {
          console.log(err);
        });
      },
    },
    watch: {},
    computed: {
      total:function () {
      return (this.productInfo.price*100)*(this.num*100)/10000
      }
    },
  }
</script>

<style scoped lang="stylus">
  .home {
    width 100%
    .banner_wrap {
      margin 0 auto
      box-sizing border-box
      height 1080px
      background-image: url('./images/banner.png');
      background-position: top center;
      background-repeat: no-repeat;
      background-size: cover;
      //background-size: 100% 100%;
      //background-size:contain;
      //background-size:auto;
      .banner {
        width 1200px
        height 640px
        margin 0 auto
        padding-top 404px
        h2 {
          font-size: 38px;
          color #ffffff
          margin-top 38px
        }
        .describe {
          color #ffffff
          font-size: 22px;
          margin-top 45px
          margin-bottom 90px
          width 450px
          line-height 26px
        }
        .num {
          color #ffffff
          font-size: 24px;
          line-height 26px
          margin-top 256px
        }
        span {
          cursor pointer
          display block
          width: 174px;
          height: 68px;
          line-height 68px
          text-align center
          background-color: #519bff;
          border-radius: 10px;
          color #ffffff
          font-size 30px
          -moz-user-select: none; /*火狐*/
          -webkit-user-select: none; /*webkit浏览器*/
          -ms-user-select: none; /*IE10*/
          -khtml-user-select: none; /*早期浏览器*/
          user-select: none;
        }
      }
    }

    .what_wrap {
      height 700px
      background-color #ffffff
      .what {
        width 1220px
        height 700px
        margin 0 auto
        background-image: url('./images/kexindun.png'), url('./images/WechatIMG216.png');
        background-repeat: no-repeat, no-repeat;
        background-position: top 220px left, bottom right;
        h2 {
          font-size 36px
          color #222222;
          text-align center
          padding-top 76px
          margin-bottom 150px
          span {
            font-size: 24px;
            color: #666666;
          }
        }
        p {
          width 592px
          margin-left 445px
          margin-bottom 30px
          font-size: 24px;
          color: #222222;
          line-height 30px
        }
      }
    }
    .selling_wrap {
      height 1080px
      background-image: url('./images/bj1.png');
      background-position: top center;
      background-repeat: no-repeat;
      background-size: cover;
      .selling {
        width 1052px
        margin 0 auto
        height 1080px
        h2 {
          font-size: 24px;
          color: #519bff;
          text-align center
          padding-top 40px
        }
        .step {
          color #ffffff
          margin-top 123px
          h3 {
            font-size: 28px;
            line-height 34px
            background-image: url('./images/00.png');
            background-position: top left;
            background-repeat: no-repeat;
            padding-left 84px
            position relative
            span {
              position absolute
              top 0
              left 8px
              color #2d9cff;
              font-size 16px
            }
          }
          p {
            padding-left 84px
            font-size: 22px;
            margin-top 22px
            margin-bottom 28px
            line-height 28px
          }
        }
      }
    }
    .shield_wrap {
      height 1064px
      background-color #ffffff
      .shield {
        width 1274px
        height 1064px
        margin 0 auto
        box-sizing border-box
        padding-top 78px
        padding-bottom 62px
        background-image: url('./images/WHAT.png'), url('./images/bj2.png');
        background-repeat: no-repeat, no-repeat;
        background-position: top 107px left, bottom 62px right;
        h2 {
          font-size: 24px;
          color: #222222;
          text-align center
        }
        ul {
          padding-top 192px
          li {
            padding-bottom 67px
            h3 {
              font-size: 24px;
              color: #333333;
            }
            p {
              margin-top 22px
              width: 688px;
              font-size: 18px;
              line-height 24px
              color: #666666;
            }
            div {
              h4 {
                margin-top 25px
                margin-bottom 11px
                font-size: 18px;
                color: #666666;
              }
              p {
                font-size: 16px;
                line-height 22px
                color: #666666;
                margin-top 0
                span {
                  display inline-block
                  width: 14px;
                  height: 14px;
                  background-color: #bfbfbf;
                  border-radius 50%
                  margin-right 8px
                }
              }
            }
          }
          li:first-child {
            p {
              width 470px
            }
          }
        }
      }
    }
    .configuration_wrap {
      height: 700px;
      background-color: #434343;
      .configuration {
        box-sizing border-box
        width 1274px
        height 700px
        margin 0 auto
        padding-top 50px
        h2 {
          font-size: 24px;
          color: #ffffff;
          text-align center
        }
        table {
          box-sizing border-box
          margin 0 auto
          margin-top 73px
          width 1000px
          height 450px
          border 1px solid #ffffff
          table-layout: fixed;
          tr {
            box-sizing border-box
            td {
              box-sizing border-box
              border 1px solid #ffffff
              color #ffffff
              font-size 16px
              text-align center
              vertical-align: middle;
              height: 44px;
              text-overflow: ellipsis;
            }
            td:first-child {
              width 256px
            }
          }
        }
      }
    }
    .coachfellow_wrap {
      height 1080px
      margin 0 auto
      box-sizing border-box
      height 1080px
      background-image: url('./images/bj3.png');
      background-position: top center;
      background-repeat: no-repeat;
      background-size: cover;
      .coachfellow {
        box-sizing border-box
        width 1188px
        height 1080px
        margin 0 auto
        background-image: url('./images/yuan.png'), url('./images/WechatIMG189.png');
        background-repeat: no-repeat, no-repeat;
        background-position: bottom 128px left, bottom 240px right;
        padding-top 282px
        position relative
        h2 {
          font-size: 40px;
          color: #2d9cff;
        }
        h3 {
          font-size: 30px;
          color: #ffffff;
          margin-top 28px
        }
        p {
          margin-top 100px
          width 540px
          font-size: 24px;
          line-height 30px
          color: #ffffff;
        }
        div {
          position absolute
          bottom 174px
          left 65px
          h3 {
            font-size: 36px;
            color: #ffffff;
          }
          p {
            font-size: 24px;
            color: #ffffff;
            margin-top 14px
          }
        }
      }
    }
  }
</style>
<style lang="stylus">
  .dialog1 {
    .el-dialog--center {
      text-align: center;
      border-radius: 40px;
    }
    .el-dialog__header {
      padding: 25px 20px 6px;
      .el-dialog__title {
        line-height: 24px;
        font-size: 18px;
        color: #333333;
      }
      .el-dialog__headerbtn {
        position: absolute;
        top: 25px;
        right: 25px;
        padding: 0;
        background: 0 0;
        border: none;
        outline: 0;
        cursor: pointer;
        font-size: 20px;
      }
    }
    .el-dialog__body {
      font-size: 18px;
      color: #333333;
      padding-left 58px
      padding-top 0
      .content {
        li {
          font-size 0
          padding 6px 0
          span {
            font-size 14px
            color: #666666;
            display inline-block
            width 320px
            word-break: break-all;
            word-wrap: break-word;
            vertical-align top
            line-height 18px
          }
          span:first-child {
            width 84px
            text-align right
          }
          .num {
            border 1px solid #eeeeee
            width 70px
            font-size 0
            height 18px
            box-sizing border-box
            span {
              font-size 14px
              display inline-block
              width 18px
              text-align center
              cursor pointer
              -moz-user-select: none; /*火狐*/
              -webkit-user-select: none; /*webkit浏览器*/
              -ms-user-select: none; /*IE10*/
              -khtml-user-select: none; /*早期浏览器*/
              user-select: none;
            }
            span:active {
              background-color #529bff
              color #ffffff
            }
            input {
              display inline-block
              outline: none;
              text-align center
              width 32px
              height 16px
              font-size 14px
            }
          }
          .pay {
            .pay_label {
              margin-right 24px
              display: inline-block
            }
            .pay_radio {
              display: none
            }
            .pay_radioInput {
              background-color: #fffff;
              border: 1px solid #529bff;
              border-radius: 50%;
              display: inline-block;
              width: 20px;
              height: 20px;
              margin-right: 8px;
              vertical-align: middle;
              line-height: 1
            }
            .pay_radio:checked + .pay_radioInput:after {
              background-color: #529bff;
              border-radius: 50%;
              content: "";
              display: inline-block;
              width: 10px;
              height: 10px;
              margin 5px
            }
            .pay_checkbox.pay_radioInput, .pay_radio:checked + .pay_checkbox.pay_radioInput:after {
              border-radius: 0
            }
          }
        }
      }
    }
    .el-dialog__footer {
      padding 0
      padding-bottom 28px
      -webkit-box-sizing: border-box;
      box-sizing: border-box;
      .el-button {
        font-size: 16px;
        height: 30px;
        background-color: #529bff;
        border-radius: 4px;
        vertical-align top
        padding 0 20px
      }
    }
  }

  .dialog2 {
    .el-dialog--center {
      text-align: center;
      border-radius: 25px;
    }
    .el-dialog__header {
      padding: 25px 20px 0px;
      .el-dialog__title {
        line-height: 24px;
        font-size: 18px;
        color: #333333;
      }
      .el-dialog__headerbtn {
        position: absolute;
        top: 25px;
        right: 25px;
        padding: 0;
        background: 0 0;
        border: none;
        outline: 0;
        cursor: pointer;
        font-size: 20px;
      }
    }
    .el-dialog__body {
      font-size: 18px;
      color: #333333;
      text-align center
      padding-top 52px
      padding-bottom 52px
    }
    .el-dialog__footer {
      padding 0
      padding-bottom 28px
      -webkit-box-sizing: border-box;
      box-sizing: border-box;
      .el-button {
        font-size: 16px;
        height: 30px;
        background-color: #529bff;
        border-radius: 4px;
        vertical-align top
        padding 0 20px
      }
    }
  }
</style>
